<script id="upgrade-ads" data-partial-name="upgrade-ads" class="template-partial" type="text/x-handlebars-template">
<html style="overflow-y:hidden">
<head>
<title></title>

{{{script_open}}} type="text/javascript"> var infolinks_pid = 3221959; var infolinks_wsid = 0;{{{script_close}}}
{{{script_open}}} type="text/javascript" src="//resources.infolinks.com/js/infolinks_main.js">{{{script_close}}}

</head>
<body style="padding:0;margin:0;width:500px;height:400px;">
<div>
</div>
</body>
</html>
</script>

<script id="propose-upgrade" class="template-partial" type="text/x-handlebars-template">
	<p>Upgrade now to Anyfile Notepad++ to get an ad-free experience of the application!</p>

  <p>For less than the price of a Starbuck's latte, you'll encourage this project and allow to pay for better worldwide distributed hosting in order to improve the app speed and load time for all users!</p>
  
  <div class="action-btn-container">
    <a class="btn btn-primary" href="{{noaction}}" {{{ m-action-n-close "application.popup_upgrade()" }}}>{{ i18n "Upgrade to Anyfile Notepad++" }}</a>
  </div>

  <div style="text-align:center">
    <iframe style="border:none;width:500px;height:400px;" id="upgrade-frame-ad" src="about:blank"></iframe>
  </div>

  <div class="propose-upgrade-timer">
    <h4>You can continue in <span id="propose-upgrade-seconds-remaining">5</span> seconds</h4>
    <div class="progress">
      <div class="progress-bar progress-bar-info" style="width:100%"></div>
    </div>
  </div>
  
  {{{ concat "<scr" "ipt>" }}}
  var doc = document.getElementById('upgrade-frame-ad').contentWindow.document;
  doc.open();
  var ads = Handlebars.compile($('#upgrade-ads').html());
  doc.write(ads());
  doc.close();

  var secondsElem = $("#propose-upgrade-seconds-remaining");
  var initial = secondsElem.html();
  var i = setInterval(function() {

    var remaining = parseInt(secondsElem.html());
    remaining -= 1;
    secondsElem.html(remaining);

    secondsElem.closest(".propose-upgrade-timer").find(".progress-bar").css("width", (remaining/initial)*100 + "%");

    if(remaining <= 0) {
      clearInterval(i);
      secondsElem.closest(".propose-upgrade-timer").hide();
      secondsElem.closest(".modal").find(".modal-footer").show();
    }
  }, 1000)
  {{{ concat "</scr" "ipt>" }}}

</script>

